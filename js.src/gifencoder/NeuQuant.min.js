NeuQuant=function(){var P={};var M=256;var E=499;var C=491;var B=487;var A=503;var o=(3*A);var I=(M-1);var z=4;var e=100;var O=16;var v=(1<<O);var b=10;
var p=(1<<b);var y=10;var H=(v>>y);var q=(v<<(b-y));var U=(M>>3);var i=6;var h=(1<<i);var T=(U*h);var g=30;var t=10;var m=(1<<t);var s;var G=8;var d=(1<<G);
var Q=(t+G);var K=(1<<Q);var u;var N;var a;var l;var n=[];var f=[];var w=[];var J=[];var j=P.NeuQuant=function j(W,V,Y){var X;var Z;u=W;N=V;a=Y;l=new Array(M);
for(X=0;X<M;X++){l[X]=new Array(4);Z=l[X];Z[0]=Z[1]=Z[2]=(X<<(z+8))/M;w[X]=v/M;f[X]=0;}};var r=function r(){var aa=[];var Y=new Array(M);for(var Z=0;Z<M;
Z++){Y[l[Z][3]]=Z;}var W=0;for(var V=0;V<M;V++){var X=Y[V];aa[W++]=(l[X][0]);aa[W++]=(l[X][1]);aa[W++]=(l[X][2]);}return aa;};var c=function c(){var W;
var V;var ab;var Z;var aa;var Y;var ac;var X;ac=0;X=0;for(W=0;W<M;W++){aa=l[W];ab=W;Z=aa[1];for(V=W+1;V<M;V++){Y=l[V];if(Y[1]<Z){ab=V;Z=Y[1];}}Y=l[ab];
if(W!=ab){V=Y[0];Y[0]=aa[0];aa[0]=V;V=Y[1];Y[1]=aa[1];aa[1]=V;V=Y[2];Y[2]=aa[2];aa[2]=V;V=Y[3];Y[3]=aa[3];aa[3]=V;}if(Z!=ac){n[ac]=(X+W)>>1;for(V=ac+1;
V<Z;V++){n[V]=W;}ac=Z;X=W;}}n[ac]=(X+I)>>1;for(V=ac+1;V<256;V++){n[V]=I;}};var k=function k(){var ac;var ab;var ah;var ad;var V;var ae;var ag;var Z;var Y;
var ai;var aa;var W;var af;var X;if(N<o){a=1;}s=30+((a-1)/3);W=u;af=0;X=N;aa=N/(3*a);ai=(aa/e)|0;Z=m;ae=T;ag=ae>>i;if(ag<=1){ag=0;}for(ac=0;ac<ag;ac++){J[ac]=Z*(((ag*ag-ac*ac)*d)/(ag*ag));
}if(N<o){Y=3;}else{if((N%E)!==0){Y=3*E;}else{if((N%C)!==0){Y=3*C;}else{if((N%B)!==0){Y=3*B;}else{Y=3*A;}}}}ac=0;while(ac<aa){ah=(W[af+0]&255)<<z;ad=(W[af+1]&255)<<z;
V=(W[af+2]&255)<<z;ab=D(ah,ad,V);R(Z,ab,ah,ad,V);if(ag!==0){L(ag,ab,ah,ad,V);}af+=Y;if(af>=X){af-=N;}ac++;if(ai===0){ai=1;}if(ac%ai===0){Z-=Z/s;ae-=ae/g;
ag=ae>>i;if(ag<=1){ag=0;}for(ab=0;ab<ag;ab++){J[ab]=Z*(((ag*ag-ab*ab)*d)/(ag*ag));}}}};var x=P.map=function x(ad,ab,V){var Z;var Y;var ac;var ae;var aa;
var W;var X;aa=1000;X=-1;Z=n[ab];Y=Z-1;while((Z<M)||(Y>=0)){if(Z<M){W=l[Z];ac=W[1]-ab;if(ac>=aa){Z=M;}else{Z++;if(ac<0){ac=-ac;}ae=W[0]-ad;if(ae<0){ae=-ae;
}ac+=ae;if(ac<aa){ae=W[2]-V;if(ae<0){ae=-ae;}ac+=ae;if(ac<aa){aa=ac;X=W[3];}}}}if(Y>=0){W=l[Y];ac=ab-W[1];if(ac>=aa){Y=-1;}else{Y--;if(ac<0){ac=-ac;}ae=W[0]-ad;
if(ae<0){ae=-ae;}ac+=ae;if(ac<aa){ae=W[2]-V;if(ae<0){ae=-ae;}ac+=ae;if(ac<aa){aa=ac;X=W[3];}}}}}return(X);};var S=P.process=function S(){k();F();c();return r();
};var F=function F(){var W;var V;for(W=0;W<M;W++){l[W][0]>>=z;l[W][1]>>=z;l[W][2]>>=z;l[W][3]=W;}};var L=function L(af,ab,ag,ac,V){var aa;var Z;var ae;
var Y;var ah;var X;var W;ae=ab-af;if(ae<-1){ae=-1;}Y=ab+af;if(Y>M){Y=M;}aa=ab+1;Z=ab-1;X=1;while((aa<Y)||(Z>ae)){ah=J[X++];if(aa<Y){W=l[aa++];try{W[0]-=(ah*(W[0]-ag))/K;
W[1]-=(ah*(W[1]-ac))/K;W[2]-=(ah*(W[2]-V))/K;}catch(ad){}}if(Z>ae){W=l[Z--];try{W[0]-=(ah*(W[0]-ag))/K;W[1]-=(ah*(W[1]-ac))/K;W[2]-=(ah*(W[2]-V))/K;}catch(ad){}}}};
var R=function R(Z,W,V,Y,X){var aa=l[W];aa[0]-=(Z*(aa[0]-V))/m;aa[1]-=(Z*(aa[1]-Y))/m;aa[2]-=(Z*(aa[2]-X))/m;};var D=function D(af,ac,W){var aa;var ae;
var ag;var ah;var Y;var ab;var ad;var Z;var V;var X;Z=~(1<<31);V=Z;ab=-1;ad=ab;for(aa=0;aa<M;aa++){X=l[aa];ae=X[0]-af;if(ae<0){ae=-ae;}ag=X[1]-ac;if(ag<0){ag=-ag;
}ae+=ag;ag=X[2]-W;if(ag<0){ag=-ag;}ae+=ag;if(ae<Z){Z=ae;ab=aa;}ah=ae-((f[aa])>>(O-z));if(ah<V){V=ah;ad=aa;}Y=(w[aa]>>y);w[aa]-=Y;f[aa]+=(Y<<b);}w[ab]+=H;
f[ab]-=q;return(ad);};j.apply(this,arguments);return P;};